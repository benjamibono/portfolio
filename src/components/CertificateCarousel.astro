---
// Import Swiper styles
import 'swiper/css';
import 'swiper/css/navigation';
import 'swiper/css/pagination';
---

<div class="w-full max-w-4xl mx-auto p-4 fade-in" style="animation-delay: 100ms">
  <div class="swiper certificate-carousel">
    <div class="swiper-wrapper">
      <div class="swiper-slide">
        <div
          class="relative aspect-[4/3] rounded-lg overflow-hidden border border-border dark:border-darkborder"
        >
          <img
            src="/certificates/Responsive-Web-Design.webp"
            alt="Responsive Web Design Certificate"
            class="object-contain w-full h-full"
            loading="lazy"
          />
        </div>
      </div>
      <div class="swiper-slide">
        <div
          class="relative aspect-[4/3] rounded-lg overflow-hidden border border-border dark:border-darkborder"
        >
          <img
            src="/certificates/Algorithms-DataStructures.webp"
            alt="Algorithms & Data Structures Certificate"
            class="object-contain w-full h-full"
            loading="lazy"
          />
        </div>
      </div>
      <div class="swiper-slide">
        <div
          class="relative aspect-[4/3] rounded-lg overflow-hidden border border-border dark:border-darkborder bg-white dark:bg-darkgrey flex flex-col items-center justify-center p-8 text-center"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="48"
            height="48"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="text-black dark:text-white mb-4"
          >
            <path d="M14 3v4a1 1 0 0 0 1 1h4"></path>
            <path d="M17 21H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7l5 5v11a2 2 0 0 1-2 2z"></path>
            <path d="M9 9h1"></path>
            <path d="M9 13h6"></path>
            <path d="M9 17h6"></path>
          </svg>
          <h3 class="text-xl font-bold text-black dark:text-white mb-2">
            Full Stack Development Certificate
          </h3>
          <p class="text-lighttext dark:text-darktext mb-4">
            Click the button below to view the PDF certificate
          </p>
          <a
            href="/certificates/Full-Stack.pdf"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-2 bg-black dark:bg-white text-white dark:text-darkgrey px-4 py-2 rounded-lg hover:bg-darkborder hover:dark:bg-[#ffffff] transition duration-300"
            aria-label="Download Full Stack Development Certificate"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="7 10 12 15 17 10"></polyline>
              <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
            View Certificate
          </a>
        </div>
      </div>
    </div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-pagination"></div>
  </div>
</div>

<script>
  import Swiper from 'swiper';
  import { Navigation, Pagination, A11y } from 'swiper/modules';

  const initSwiper = () => {
    const swiper = new Swiper('.certificate-carousel', {
      modules: [Navigation, Pagination, A11y],
      slidesPerView: 1,
      spaceBetween: 30,
      loop: true,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      a11y: {
        prevSlideMessage: 'Previous certificate',
        nextSlideMessage: 'Next certificate',
        firstSlideMessage: 'This is the first certificate',
        lastSlideMessage: 'This is the last certificate',
      },
    });
  };

  // Initialize Swiper
  if (document.readyState === 'complete') {
    initSwiper();
  } else {
    document.addEventListener('DOMContentLoaded', initSwiper);
  }
</script>

<style is:global>
  .swiper-button-next,
  .swiper-button-prev {
    color: theme('colors.black') !important;
    background-color: rgba(255, 255, 255, 0.8) !important;
    width: 40px !important;
    height: 40px !important;
    border-radius: 50% !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
  }

  .swiper-button-next::after,
  .swiper-button-prev::after {
    font-size: 20px !important;
  }

  .dark .swiper-button-next,
  .dark .swiper-button-prev {
    color: theme('colors.white') !important;
    background-color: rgba(0, 0, 0, 0.8) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
  }

  .swiper-pagination-bullet {
    background: theme('colors.black') !important;
  }

  .dark .swiper-pagination-bullet {
    background: theme('colors.white') !important;
  }

  .swiper-pagination-bullet-active {
    background: theme('colors.purple') !important;
  }
</style>
